version=pmwiki-2.2.107 ordered=1 urlencoded=1
agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.87 Safari/537.36
author=
charset=UTF-8
csum=
ctime=1531773834
host=192.168.3.2
name=デザイン.プリント
rev=9
targets=
text=https://www.chromium.org/developers/design-documents/printing%0a%0a!プリント%0a%0a* プリントは黄色ボックスのところで始められる。ユーザが始めるかスクリプトが始める。%0a* プリンタスプールはプリントワーカスレッドで行われる。%0a* レンダラスレッドはブロックする。以下のようなことが起こるとデッドロックする。%0a%0a** レンダラがブラウザUIスレッドに同期メッセージを送る（暗黙的にIOスレッドを経由する）%0a** ブラウザスレッドがインスタンスのためのダイアログを'''PrintDlgEx()'''で表示する。%0a** タブのクライアントエリアが（HTML表示エリア）無能化を受け取る；表示の再生成要求。%0a** （または）ウインドウ化されたプラグインが'''WM_PAINT'''メッセージを受け取る。%0a** ウインドウ化されたプラグインが'''NPAPI_ExecuteJavascript()'''を呼ぶ。%0a** これはレンダラを同期で呼ぶ。%0a** しかしレンダラはもはやメッセージを処理しない ➔ '''デッドロック'''。%0a%0aよって、レンダラをブロックしない方法が考えられている。プリント用に'''WebViewImpl/WebFrameImpl'''をコピーし、フレームのコピーを活動してない状態でつくる。これにより同期メッセージを削除できる。%0a%0a%0aAttach:chromiumprint.png%0a%0a%0a%0a
time=1531775030
author:1531775030=
diff:1531775030:1531774995:=20c20%0a%3c Attach:chromiumprint.png%0a---%0a> [[Attach:chromiumprint.png]]%0a
host:1531775030=192.168.3.2
author:1531774995=
diff:1531774995:1531774966:=20c20%0a%3c [[Attach:chromiumprint.png]]%0a---%0a> "attach:chromiumprint.png"%0a
host:1531774995=192.168.3.2
author:1531774966=
diff:1531774966:1531774897:=20c20%0a%3c "attach:chromiumprint.png"%0a---%0a> chromiumprint.png%0a
host:1531774966=192.168.3.2
author:1531774897=
diff:1531774897:1531774398:=20c20%0a%3c chromiumprint.png%0a---%0a> %0a
host:1531774897=192.168.3.2
author:1531774398=
diff:1531774398:1531773886:=16,18d15%0a%3c %0a%3c よって、レンダラをブロックしない方法が考えられている。プリント用に'''WebViewImpl/WebFrameImpl'''をコピーし、フレームのコピーを活動してない状態でつくる。これにより同期メッセージを削除できる。%0a%3c %0a
host:1531774398=192.168.3.2
author:1531773886=
diff:1531773886:1531773869:=15c15%0a%3c ** しかしレンダラはもはやメッセージを処理しない ➔ '''デッドロック'''。%0a---%0a> ** しかしレンダラはもはやメッセージを処理しない ⇛ '''デッドロック'''。%0a
host:1531773886=192.168.3.2
author:1531773869=
diff:1531773869:1531773857:=15c15%0a%3c ** しかしレンダラはもはやメッセージを処理しない ⇛ '''デッドロック'''。%0a---%0a> ** しかしレンダラはもはやメッセージを処理しない▶'''デッドロック'''。%0a
host:1531773869=192.168.3.2
author:1531773857=
diff:1531773857:1531773834:=15c15%0a%3c ** しかしレンダラはもはやメッセージを処理しない▶'''デッドロック'''。%0a---%0a> ** しかしレンダラはもはやメッセージを処理しない　=>　'''デッドロック'''。%0a
host:1531773857=192.168.3.2
author:1531773834=
diff:1531773834:1531773834:=1,20d0%0a%3c https://www.chromium.org/developers/design-documents/printing%0a%3c %0a%3c !プリント%0a%3c %0a%3c * プリントは黄色ボックスのところで始められる。ユーザが始めるかスクリプトが始める。%0a%3c * プリンタスプールはプリントワーカスレッドで行われる。%0a%3c * レンダラスレッドはブロックする。以下のようなことが起こるとデッドロックする。%0a%3c %0a%3c ** レンダラがブラウザUIスレッドに同期メッセージを送る（暗黙的にIOスレッドを経由する）%0a%3c ** ブラウザスレッドがインスタンスのためのダイアログを'''PrintDlgEx()'''で表示する。%0a%3c ** タブのクライアントエリアが（HTML表示エリア）無能化を受け取る；表示の再生成要求。%0a%3c ** （または）ウインドウ化されたプラグインが'''WM_PAINT'''メッセージを受け取る。%0a%3c ** ウインドウ化されたプラグインが'''NPAPI_ExecuteJavascript()'''を呼ぶ。%0a%3c ** これはレンダラを同期で呼ぶ。%0a%3c ** しかしレンダラはもはやメッセージを処理しない　=>　'''デッドロック'''。%0a%3c %0a%3c %0a%3c %0a%3c %0a%3c %0a
host:1531773834=192.168.3.2
