version=pmwiki-2.2.109 ordered=1 urlencoded=1
agent=Mozilla/5.0 (Windows NT 6.1; rv:67.0) Gecko/20100101 Firefox/67.0
author=
charset=UTF-8
csum=
ctime=1532132569
host=192.168.3.153
name=テストとインフラ.コミットキュー
rev=10
targets=
text=http://dev.chromium.org/developers/testing/commit-queue%0ahttps://chromium.googlesource.com/chromium/src/+/master/docs/infra/cq.md%0a%0a!CQ%0aこのドキュメントはChromiumコミットキュー(CQ)がどのように構成され管理されているかを記述する。これはChromiumのCQに特化したものなので、他のCQについてはinfra-dev@chromium.orgを参照。%0a%0a!目的%0aChromiumCQは開発者のコード変更をchromium/srcへコミットする前にテストするためのもので、CLが影響するすべてのテスト一式を実行しパスすることを確認する。%0a%0a!オプション%0a%0a*COMMIT=false%0aCLにこれを付加すると、コードは実験的であることを示し、CQ経由で間違って提出することを防ぐ。このオプションがあるとCQは即座に変更の処理を停止する。%0a%0a*CQ_INCLUDE_TRYBOTS=%3ctrybots>%0aこのフラグで追加のボットを指定する。フォーマットは “bucket:trybot1,trybot2;bucket2:trybot3”。%0a%0a*NOPRESUBMIT=true%0a提出前のチェックをスキップする。PRESUBMITにバグがある場合にのみ使うべき。%0a%0a*NOTREECHECKS=true%0aツリーのステータスチェックをスキップする。これによりCQはツリーが閉じられていてもCLをコミットする。ツリーは理由があって閉じられているので推奨されない。%0a%0a*NOTRY=true%0aツリーをグリーンに戻すために使う。トライボットをスキップするため、ツリーを壊すかもしれない。この目的以外で使うべきではない。%0a%0a*TBR=%3cusername>%0aSee policy of when it's acceptable to use TBR (“To be reviewed”). If a change has a TBR line with a valid reviewer, the CQ will skip checks for LGTMs.%0a%0a!FAQ%0a!!CQは実際何を実行してるのか？%0a%0aCQはcq.cfgに指定されているジョブを実行する。%0a[[https://chromium.googlesource.com/chromium/src/+/master/docs/infra/cq_builders.md|cq_builders.md]]を見て、リンク付きの自動生成されるファイルを参照。CQ上のビルダー情報がある。%0a%0aいくつかのジョブは実験用。CQビルドの一定の割合で実行され、その結果はCLが着地するかどうかに影響しない。ファイルの先頭でリンクされているschemaをみればコンフィグのフィールドの情報がある。%0a%0aCQは以下の構造を持つ：%0a%0a*CLによって影響されるすべてのテスト一式をコンパイルする。%0a*CLによって影響するすべてのテストを実行する。%0a**多くのテスト一式は破片(shards)に分割される。各破片は新規タスクとして分割して実行される。%0a**これらのステップは ‘(with patch)’ とラベルされる。%0a%0a*Retry each shard that has a test failure. The retry has the exact same configuration as the original run. No recompile is necessary. %0a%0a**リトライが成功したら、失敗は無視される。%0a**これらは ‘(retry shards with patch)’ とラベルされる。%0a**同じコンフィグでリトライすることが重要。隔離してリトライするとしばしば失敗していたものの挙動が変わる。%0a%0a*失敗したテストをCLなしで再コンパイルし、隔離状態で再実行する。%0a**リトライが失敗したら、その失敗は無視される。ここではテストが壊れたと想定している。%0a**これらのステップは ‘(without patch)’ とラベルされる。%0a%0a!!なぜ私のCQが失敗するのか？%0a以下の一般的なガイドラインに従う。%0a%0a# パッチがビルド失敗を引き起こしてないかを確認する。%0a# コンパイルやテストが失敗していてもそれが自分のせいではないと思うときは、仲のいいシェリフに[[https://bugs.chromium.org/p/chromium/issues/entry?template=Defect%2520report%2520from%2520developer&labels=Sheriff-Chromium&summary=%255BBrief%2520description%2520of%2520problem%255D&comment=What%2527s%2520wrong?|シェリフバグ]]を提出する。コードがOWNERを持つならば、彼らにもCCする。%0a# 他の部分のCQボット実行が失敗した場合（bot_updateなど）、またはCQ自体が壊れていると思うとき、または何が問題かわからないときは[[https://g.co/bugatrooper|トゥルーパーバグ]]を提出する。%0a%0aどちらのケースでもバグを提出するときは、ビルドへのリンクやCLを含めること。%0a%0a!!How do I add a new builder to the CQ?%0a%0a
time=1560505155
author:1560505155=
diff:1560505155:1560503075:=53,65d52%0a%3c **これらのステップは ‘(without patch)’ とラベルされる。%0a%3c %0a%3c !!なぜ私のCQが失敗するのか？%0a%3c 以下の一般的なガイドラインに従う。%0a%3c %0a%3c # パッチがビルド失敗を引き起こしてないかを確認する。%0a%3c # コンパイルやテストが失敗していてもそれが自分のせいではないと思うときは、仲のいいシェリフに[[https://bugs.chromium.org/p/chromium/issues/entry?template=Defect%2520report%2520from%2520developer&labels=Sheriff-Chromium&summary=%255BBrief%2520description%2520of%2520problem%255D&comment=What%2527s%2520wrong?|シェリフバグ]]を提出する。コードがOWNERを持つならば、彼らにもCCする。%0a%3c # 他の部分のCQボット実行が失敗した場合（bot_updateなど）、またはCQ自体が壊れていると思うとき、または何が問題かわからないときは[[https://g.co/bugatrooper|トゥルーパーバグ]]を提出する。%0a%3c %0a%3c どちらのケースでもバグを提出するときは、ビルドへのリンクやCLを含めること。%0a%3c %0a%3c !!How do I add a new builder to the CQ?%0a%3c %0a
host:1560505155=192.168.3.153
author:1560503075=
diff:1560503075:1560502825:=51,52d50%0a%3c *失敗したテストをCLなしで再コンパイルし、隔離状態で再実行する。%0a%3c **リトライが失敗したら、その失敗は無視される。ここではテストが壊れたと想定している。%0a
host:1560503075=192.168.3.153
author:1560502825=
diff:1560502825:1560502167:=36,50c36,39%0a%3c いくつかのジョブは実験用。CQビルドの一定の割合で実行され、その結果はCLが着地するかどうかに影響しない。ファイルの先頭でリンクされているschemaをみればコンフィグのフィールドの情報がある。%0a%3c %0a%3c CQは以下の構造を持つ：%0a%3c %0a%3c *CLによって影響されるすべてのテスト一式をコンパイルする。%0a%3c *CLによって影響するすべてのテストを実行する。%0a%3c **多くのテスト一式は破片(shards)に分割される。各破片は新規タスクとして分割して実行される。%0a%3c **これらのステップは ‘(with patch)’ とラベルされる。%0a%3c %0a%3c *Retry each shard that has a test failure. The retry has the exact same configuration as the original run. No recompile is necessary. %0a%3c %0a%3c **リトライが成功したら、失敗は無視される。%0a%3c **これらは ‘(retry shards with patch)’ とラベルされる。%0a%3c **同じコンフィグでリトライすることが重要。隔離してリトライするとしばしば失敗していたものの挙動が変わる。%0a%3c %0a---%0a> %0a> Some of these jobs are experimental. This means they are executed on a percentage of CQ builds, and the outcome of the build doesn't affect if the CL can land or not. See the schema linked at the top of the file for more information on what the fields in the config do.%0a> %0a> The CQ has the following structure:%0a\ No newline at end of file%0a
host:1560502825=192.168.3.153
author:1560502167=
diff:1560502167:1560502146:=34c34%0a%3c [[https://chromium.googlesource.com/chromium/src/+/master/docs/infra/cq_builders.md|cq_builders.md]]を見て、リンク付きの自動生成されるファイルを参照。CQ上のビルダー情報がある。%0a---%0a> [[cq_builders.md|https://chromium.googlesource.com/chromium/src/+/master/docs/infra/cq_builders.md]]を見て、リンク付きの自動生成されるファイルを参照。CQ上のビルダー情報がある。%0a
host:1560502167=192.168.3.153
author:1560502146=
diff:1560502146:1560502116:=34c34%0a%3c [[cq_builders.md|https://chromium.googlesource.com/chromium/src/+/master/docs/infra/cq_builders.md]]を見て、リンク付きの自動生成されるファイルを参照。CQ上のビルダー情報がある。%0a---%0a> [cq_builders.md|https://chromium.googlesource.com/chromium/src/+/master/docs/infra/cq_builders.md]を見て、リンク付きの自動生成されるファイルを参照。CQ上のビルダー情報がある。%0a
host:1560502146=192.168.3.153
author:1560502116=
diff:1560502116:1560501277:=25,39c25,26%0a%3c ツリーをグリーンに戻すために使う。トライボットをスキップするため、ツリーを壊すかもしれない。この目的以外で使うべきではない。%0a%3c %0a%3c *TBR=%3cusername>%0a%3c See policy of when it's acceptable to use TBR (“To be reviewed”). If a change has a TBR line with a valid reviewer, the CQ will skip checks for LGTMs.%0a%3c %0a%3c !FAQ%0a%3c !!CQは実際何を実行してるのか？%0a%3c %0a%3c CQはcq.cfgに指定されているジョブを実行する。%0a%3c [cq_builders.md|https://chromium.googlesource.com/chromium/src/+/master/docs/infra/cq_builders.md]を見て、リンク付きの自動生成されるファイルを参照。CQ上のビルダー情報がある。%0a%3c %0a%3c %0a%3c Some of these jobs are experimental. This means they are executed on a percentage of CQ builds, and the outcome of the build doesn't affect if the CL can land or not. See the schema linked at the top of the file for more information on what the fields in the config do.%0a%3c %0a%3c The CQ has the following structure:%0a\ No newline at end of file%0a---%0a> ツリーをグリーンに戻す%0a> This should only be used for reverts to green the tree, since it skips try bots and might therefore break the tree. You shouldn't use this otherwise.%0a
host:1560502116=192.168.3.153
author:1560501277=
diff:1560501277:1560501188:=24,26d23%0a%3c *NOTRY=true%0a%3c ツリーをグリーンに戻す%0a%3c This should only be used for reverts to green the tree, since it skips try bots and might therefore break the tree. You shouldn't use this otherwise.%0a
host:1560501277=192.168.3.153
author:1560501188=
diff:1560501188:1560500533:=4,23c4,6%0a%3c !CQ%0a%3c このドキュメントはChromiumコミットキュー(CQ)がどのように構成され管理されているかを記述する。これはChromiumのCQに特化したものなので、他のCQについてはinfra-dev@chromium.orgを参照。%0a%3c %0a%3c !目的%0a%3c ChromiumCQは開発者のコード変更をchromium/srcへコミットする前にテストするためのもので、CLが影響するすべてのテスト一式を実行しパスすることを確認する。%0a%3c %0a%3c !オプション%0a%3c %0a%3c *COMMIT=false%0a%3c CLにこれを付加すると、コードは実験的であることを示し、CQ経由で間違って提出することを防ぐ。このオプションがあるとCQは即座に変更の処理を停止する。%0a%3c %0a%3c *CQ_INCLUDE_TRYBOTS=%3ctrybots>%0a%3c このフラグで追加のボットを指定する。フォーマットは “bucket:trybot1,trybot2;bucket2:trybot3”。%0a%3c %0a%3c *NOPRESUBMIT=true%0a%3c 提出前のチェックをスキップする。PRESUBMITにバグがある場合にのみ使うべき。%0a%3c %0a%3c *NOTREECHECKS=true%0a%3c ツリーのステータスチェックをスキップする。これによりCQはツリーが閉じられていてもCLをコミットする。ツリーは理由があって閉じられているので推奨されない。%0a%3c %0a---%0a> #CQ%0a> %0a> This document describes how the Chromium Commit Queue (CQ) is structured and managed. This is specific for the Chromium CQ. Questions about other CQs should be directed to infra-dev@chromium.org.%0a\ No newline at end of file%0a
host:1560501188=192.168.3.153
author:1560500533=
diff:1560500533:1532132569:=1,6c1%0a%3c http://dev.chromium.org/developers/testing/commit-queue%0a%3c https://chromium.googlesource.com/chromium/src/+/master/docs/infra/cq.md%0a%3c %0a%3c #CQ%0a%3c %0a%3c This document describes how the Chromium Commit Queue (CQ) is structured and managed. This is specific for the Chromium CQ. Questions about other CQs should be directed to infra-dev@chromium.org.%0a\ No newline at end of file%0a---%0a> http://dev.chromium.org/developers/testing/commit-queue%0a\ No newline at end of file%0a
host:1560500533=192.168.3.153
author:1532132569=
diff:1532132569:1532132569:=1d0%0a%3c http://dev.chromium.org/developers/testing/commit-queue%0a\ No newline at end of file%0a
host:1532132569=192.168.3.2
